<!doctype html>
<html lang="fr">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Lettre Sakura</title>
  <meta name="description" content="Une lettre romantique √† ouvrir fa√ßon parchemin, ambiance sakura." />
  <style>
    :root{
      --bg:#fff5f8;
      --pink:#ff7aa8;
      --pink-2:#ffb6cf;
      --rose:#ffcfe1;
      --ink:#3a2a2a;
      --gold:#c79a3b;
      --shadow: 0 10px 30px rgba(0,0,0,.12);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      background: radial-gradient(1200px 600px at 70% -10%, #ffeaf2 0%, #fff5f8 40%, #fff 100%), var(--bg);
      color:var(--ink);
      font: 16px/1.5 system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      overflow-x:hidden;
    }

    /* Header */
    .wrap{
      min-height:100dvh;
      display:grid;
      place-items:center;
      position:relative;
      padding: 48px 16px 80px;
      isolation:isolate;
    }

    .card{
      width:min(720px, 92vw);
      background: linear-gradient(180deg, #fff 0%, #fff7fb 100%);
      border:1px solid #ffd6e6;
      border-radius:24px;
      box-shadow: var(--shadow);
      padding: clamp(20px, 4vw, 40px);
      text-align:center;
      position:relative;
      overflow:hidden;
    }
    .badge{
      display:inline-flex;align-items:center;gap:.5rem;
      background: #ffe4ee;
      color:#b82e5d;
      border:1px solid #ffcede;
      padding:.35rem .7rem;
      border-radius:999px;
      font-weight:600;
      letter-spacing:.2px;
      margin-bottom:12px;
    }
    .title{
      font-size: clamp(28px, 5vw, 42px);
      line-height:1.1;
      margin:0 0 10px;
      font-weight:800;
      background:linear-gradient(180deg, #b01049 0%, #ff4f89 60%, #ff94b6 100%);
      -webkit-background-clip:text;background-clip:text;color:transparent;
    }
    .subtitle{margin:0 0 24px;color:#7b515e}

    .cta{
      --h:56px;
      display:inline-grid;place-items:center;
      height:var(--h); min-width:240px;
      padding:0 20px; border-radius: 16px;
      background: radial-gradient(120% 180% at 10% 10%, #ffd6e6 0%, #ff94b6 50%, #ff4f89 100%);
      color:white; font-weight:800; letter-spacing:.3px;
      border:none; cursor:pointer; box-shadow:0 8px 18px rgba(255,79,137,.35);
      transition: transform .12s ease, filter .2s ease;
    }
    .cta:hover{ transform: translateY(-1px); filter: saturate(1.05) brightness(1.02); }
    .cta:active{ transform: translateY(1px) scale(.99); }

    .meta{margin-top:12px; font-size:.9rem; color:#8a6d75}

    /* Sakura petals */
    .petal{ position:fixed; top:-10vh; width:18px; height:18px; pointer-events:none; z-index:-1}
    .petal svg{ width:100%; height:100%; display:block; opacity:.85; filter: drop-shadow(0 2px 2px rgba(0,0,0,.08)); }
    @keyframes fall { to { transform: translate3d(var(--x-end), 110vh, 0) rotate(var(--rot)); } }
    @keyframes sway { 50% { transform: translateX(12px) rotate(10deg);} }

    /* Modal + parchment */
    .overlay{
      position:fixed; inset:0; display:grid; place-items:center;
      background: rgba(255, 239, 245, .35);
      backdrop-filter: blur(6px);
      -webkit-backdrop-filter: blur(6px);
      opacity:0; visibility:hidden; transition: .35s ease;
    }
    .overlay.show{opacity:1; visibility:visible}

    .scroll{
      position:relative; width:min(820px, 92vw);
      max-height:86dvh; overflow:auto;
      background:
        radial-gradient(120% 60% at 50% -20%, rgba(255,255,255,.9), rgba(255,255,255,.8)),
        linear-gradient(180deg, #fff8ef 0%, #fff3e0 60%, #fff0d6 100%);
      border: 1px solid #f1d7a9;
      border-radius: 22px;
      box-shadow: 0 30px 60px rgba(0,0,0,.25), inset 0 1px 0 rgba(255,255,255,.6);
      padding: clamp(20px, 3.5vw, 40px);
      color:#3a2a2a;
      transform-origin: top center; transform: scaleY(.85);
      animation: unroll .5s cubic-bezier(.2,.7,.2,1.1) forwards;
    }
    .scroll:before, .scroll:after{
      content:""; position:absolute; left:50%; transform:translateX(-50%);
      width: 78%; height: 14px; border-radius: 999px;
      background: linear-gradient(180deg, #e4c686, #caa452);
      box-shadow: inset 0 3px 6px rgba(255,255,255,.6), inset 0 -4px 8px rgba(0,0,0,.12);
    }
    .scroll:before{ top:-22px }
    .scroll:after{ bottom:-22px }

    @keyframes unroll { to { transform: scaleY(1);} }

    .scroll-header{
      display:flex; align-items:center; justify-content:space-between; gap:12px;
      margin-bottom: 12px; position:sticky; top:-8px; background: linear-gradient(180deg, rgba(255,243,224,.97), rgba(255,243,224,.86));
      padding: 10px 12px; border-radius:14px; border:1px solid rgba(0,0,0,.04);
    }
    .scroll-title{ font-size:1.1rem; font-weight:800; letter-spacing:.2px; color:#8b5e19 }
    .icon-btn{
      display:inline-grid; place-items:center; width:40px; height:40px; border-radius:12px; border:1px solid #efd39f; background:#fff6df; cursor:pointer;
      box-shadow:0 2px 6px rgba(0,0,0,.06);
    }
    .icon-btn:hover{ filter:brightness(1.02)}

    .letter{
      font-family: "Georgia", "Times New Roman", serif;
      font-size: clamp(17px, 2.4vw, 19px);
      line-height: 1.8;
      word-wrap: anywhere;
      white-space: pre-wrap;
      background: repeating-linear-gradient(#0000, #0000 28px, rgba(88,60,20,.07) 29px),
                  radial-gradient(800px 200px at 50% 0%, #fffaf0, #fff0d6);
      border: 1px dashed rgba(167,123,39,.35);
      border-radius: 14px;
      padding: clamp(16px, 3vw, 28px);
      color:#3a2a2a;
    }

    .tools{display:flex; gap:8px; flex-wrap:wrap; margin-top:14px}
    .tools button{
      background:#fff; border:1px solid #efd39f; border-radius:12px; padding:10px 14px; cursor:pointer;
      box-shadow:0 2px 6px rgba(0,0,0,.05);
    }

    /* Tiny footer */
    footer{ position:fixed; bottom:8px; left:50%; transform:translateX(-50%);
      font-size:.8rem; color:#a67886; opacity:.9 }

    /* Mobile safe */
    @media (max-width:480px){
      .cta{min-width: 200px}
      .letter{font-size: 16px}
    }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="card">
      <div class="badge" aria-label="Sakura">üå∏ j'esp√®re t'aimes bien mdrrrr</div>
      <h1 class="title">Ouvre ta lettre ‚ú®</h1>
      <p class="subtitle">Petite lettre d‚Äôamour de l‚Äôamour de ma vie pour l‚Äôamour de ma vie</p>
      <button id="openBtn" class="cta" aria-haspopup="dialog" aria-controls="letterModal">üíå Ouvreeee boubou stp</button>
      <div class="meta">pour te montrer que je suis le meilleur boubou enft</div>
    </div>
  </div>

  <!-- Overlay & parchment scroll -->
  <div id="letterModal" class="overlay" role="dialog" aria-modal="true" aria-label="Lettre parchemin">
    <div class="scroll">
      <div class="scroll-header">
        <div class="scroll-title">Lettre pour toi üíñ</div>
        <div class="tools">
          <button class="icon-btn" id="printBtn" title="Imprimer / PDF" aria-label="Imprimer ou enregistrer en PDF">üñ®Ô∏è</button>
          <button class="icon-btn" id="copyBtn" title="Copier le texte" aria-label="Copier le texte">üìã</button>
          <button class="icon-btn" id="closeBtn" title="Fermer" aria-label="Fermer">‚úñÔ∏è</button>
        </div>
      </div>
      <div id="letter" class="letter"></div>
    </div>
  </div>

  <footer>Fait avec üå∏ &nbsp;‚Äî&nbsp; Lettre Sakura</footer>

  <script>
    // ===== 1) √âDITE ICI LE CONTENU DE LA LETTRE =====
    // Remplace le texte entre les backticks par ta lettre (tu peux mettre des retours √† la ligne, des emojis, etc.)
    const LETTER_HTML = `
Ma douce et tendre poupoune,

Mon b√©b√© d'amour, ces temps-ci la flamme s'√©teint, et j'ai eu du mal √† le reconna√Ætre... C'est pourquoi je voulais t'envoyer une lettre mais il fallait que tu la recoive aujourd'hui parce que le temps presse la bahaha mon bebe.

Depuis la distance, j'ai voulu te glisser ces mots comme on glisse une fleur entre deux pages d'un livre.
Merci d'√™tre toi, exactement toi. Tu rends mes journ√©es plus belles, m√™me √† des kilom√®tres.

Promis, on rattrapera chaque minute loin l'un de l'autre. En attendant, ferme les yeux :
imagine les p√©tales qui tombent, et ma main dans la tienne.

Je pense fort √† toi et √† mimiii

‚Äî Stan
`;

    // ===== 2) P√âTALES DE SAKURA (visuel) =====
    const PETALS = 26; // nombre de p√©tales √† l'√©cran
    const svgPetal = `
      <svg viewBox="0 0 64 64" aria-hidden="true">
        <defs>
          <radialGradient id="g" cx="50%" cy="40%" r="70%">
            <stop offset="0%" stop-color="#fff" stop-opacity=".95"/>
            <stop offset="60%" stop-color="#ff9fbd" stop-opacity=".95"/>
            <stop offset="100%" stop-color="#ff6f9c" stop-opacity=".95"/>
          </radialGradient>
        </defs>
        <path d="M32 6c6 6 11 10 16 16 7 9 8 20-2 26-6 3-14 2-22-2-6-3-11-8-12-14-1-7 3-13 10-18 3-2 6-5 10-8z" fill="url(#g)"/>
      </svg>`;

    function spawnPetals(){
      for(let i=0;i<PETALS;i++){
        const d = document.createElement('div');
        d.className = 'petal';
        d.innerHTML = svgPetal;
        const startX = Math.random()*100; // vw
        const drift = (Math.random()*60 - 30) + 'vw';
        const rot = (Math.random()*720 - 360) + 'deg';
        const delay = Math.random()*-20 + 's';
        const duration = 18 + Math.random()*14; // s
        d.style.left = startX+'vw';
        d.style.setProperty('--x-end', drift);
        d.style.setProperty('--rot', rot);
        d.style.animation = `fall ${duration}s linear infinite`;
        d.style.animationDelay = delay;
        document.body.appendChild(d);
      }
    }

    // ===== 3) Modal logic =====
    const modal = document.getElementById('letterModal');
    const openBtn = document.getElementById('openBtn');
    const closeBtn = document.getElementById('closeBtn');
    const printBtn = document.getElementById('printBtn');
    const copyBtn = document.getElementById('copyBtn');
    const letterEl = document.getElementById('letter');

    function openModal(){ modal.classList.add('show'); }
    function closeModal(){ modal.classList.remove('show'); }

    openBtn.addEventListener('click', openModal);
    closeBtn.addEventListener('click', closeModal);
    modal.addEventListener('click', (e)=>{ if(e.target === modal) closeModal(); });
    document.addEventListener('keydown', (e)=>{ if(e.key==='Escape') closeModal(); });

    // Inject letter content
    letterEl.textContent = LETTER_HTML.trim();

    // Print / PDF
    printBtn.addEventListener('click', ()=> window.print());

    // Copy to clipboard
    copyBtn.addEventListener('click', async ()=>{
      try{
        await navigator.clipboard.writeText(letterEl.textContent);
        copyBtn.textContent = '‚úÖ';
        setTimeout(()=> copyBtn.textContent='üìã', 1200);
      }catch{
        alert('Copie impossible sur ce navigateur');
      }
    });

    // Start
    spawnPetals();
  </script>
</body>
</html>
